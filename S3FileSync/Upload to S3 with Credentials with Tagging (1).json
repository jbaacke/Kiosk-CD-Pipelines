{"tasks":[{"displayName":"Set AWS access key","alwaysRun":false,"continueOnError":false,"enabled":true,"timeoutInMinutes":0,"inputs":{"filename":"aws","arguments":"configure set AWS_ACCESS_KEY_ID $(Access Key)","workingFolder":"","failOnStandardError":"false"},"task":{"id":"d9bafed4-0b18-4f58-968d-86655b4d2ce9","versionSpec":"1.*","definitionType":"task"}},{"displayName":"Set AWS secret access key","alwaysRun":false,"continueOnError":false,"enabled":true,"timeoutInMinutes":0,"inputs":{"filename":"aws","arguments":"configure set aws_secret_access_key $(Secret Access Key)","workingFolder":"","failOnStandardError":"false"},"task":{"id":"d9bafed4-0b18-4f58-968d-86655b4d2ce9","versionSpec":"1.*","definitionType":"task"}},{"displayName":"Upload user file to S3","alwaysRun":false,"continueOnError":false,"enabled":true,"timeoutInMinutes":0,"inputs":{"filename":"aws","arguments":"s3api put-object --key $(S3 Object Name) --bucket $(Bucket Name) --region $(AWS Bucket Region) --body $(Artifact to Upload)","workingFolder":"","failOnStandardError":"false"},"task":{"id":"d9bafed4-0b18-4f58-968d-86655b4d2ce9","versionSpec":"1.*","definitionType":"task"}},{"displayName":"Add Tags","alwaysRun":false,"continueOnError":false,"enabled":true,"timeoutInMinutes":0,"inputs":{"filename":"aws","arguments":"s3api put-object-tagging --bucket $(Bucket Name) --region $(AWS Bucket Region) --key $(S3 Object Name) --tagging TagSet=[{Key=KArtifactID,Value=$(KArtifactID)},{Key=Update,Value=$(Update)}]","workingFolder":"","failOnStandardError":"false"},"task":{"id":"d9bafed4-0b18-4f58-968d-86655b4d2ce9","versionSpec":"1.*","definitionType":"task"}}],"visibility":["Build","Release"],"runsOn":["Agent","DeploymentGroup"],"owner":"5581d860-f137-4eb2-94e0-11ba143e4377","revision":27,"createdBy":{"id":"5581d860-f137-4eb2-94e0-11ba143e4377","displayName":"Justin Baacke","uniqueName":"jbaacke@kiosk.com"},"createdOn":"2017-08-22T14:38:57.680Z","modifiedBy":{"id":"5581d860-f137-4eb2-94e0-11ba143e4377","displayName":"Justin Baacke","uniqueName":"jbaacke@kiosk.com"},"modifiedOn":"2017-08-22T21:29:57.847Z","comment":"Added descriptions to properties","id":"7bbe00b7-31c3-4fec-8a86-6c364474c915","name":"Upload to S3 with Credentials with Tagging","version":{"major":1,"minor":0,"patch":0,"isTest":false},"serverOwned":false,"contentsUploaded":true,"iconUrl":"https://cdn.vsassets.io/v/20170718T185718/_content/icon-meta-task.png","hostType":null,"packageType":"","packageLocation":"","sourceLocation":"","minimumAgentVersion":"*","friendlyName":"Upload to S3 with Credentials with Tagging","description":"This uploads a file to s3 using aws credentials","category":"Package","helpMarkDown":"","definitionType":"metaTask","author":"Justin Baacke","demands":[],"groups":[],"inputs":[{"options":{},"properties":{},"name":"Access Key","label":"Access Key","defaultValue":"","required":true,"type":"string","helpMarkDown":"AWS Access Key","groupName":""},{"options":{},"properties":{},"name":"Secret Access Key","label":"Secret Access Key","defaultValue":"","required":true,"type":"string","helpMarkDown":"AWS Secret Access Key","groupName":""},{"options":{},"properties":{},"name":"Bucket Name","label":"Bucket Name","defaultValue":"","required":true,"type":"string","helpMarkDown":"The name of the S3 Bucket","groupName":""},{"options":{},"properties":{},"name":"S3 Object Name","label":"S3 Object Name","defaultValue":"","required":true,"type":"string","helpMarkDown":"Name and directory that the corresponding file will have in Amazon S3. Example: S3FolderName/examplefile1.$(Build.BuildID)-uploaded.txt **Note:** This field is not available for folder uploads, file and folder names will be the same as local.","groupName":""},{"options":{},"properties":{},"name":"AWS Bucket Region","label":"AWS Bucket Region","defaultValue":"","required":true,"type":"string","helpMarkDown":"The Region of the AWS S3 Bucket","groupName":""},{"options":{},"properties":{},"name":"Artifact to Upload","label":"Artifact to Upload","defaultValue":"","required":true,"type":"string","helpMarkDown":"The file to upload.","groupName":""},{"options":{},"properties":{},"name":"KArtifactID","label":"KArtifactID","defaultValue":"","required":true,"type":"string","helpMarkDown":"The KArtifactID which will be coded in the windows event log for Kaseya Deployments","groupName":""},{"options":{},"properties":{},"name":"Update","label":"Update","defaultValue":"","required":true,"type":"string","helpMarkDown":"A flag to indicate to the syncer to update the file (defaults to false)","groupName":""}],"satisfies":[],"sourceDefinitions":[],"dataSourceBindings":[],"instanceNameFormat":"Task group: Upload to S3 with Credentials with Tagging $(Access Key)","execution":{}}