{"tasks":[{"displayName":"Set AWS access key","alwaysRun":false,"continueOnError":false,"enabled":true,"timeoutInMinutes":0,"inputs":{"filename":"aws","arguments":"configure set AWS_ACCESS_KEY_ID $(Access Key)","workingFolder":"","failOnStandardError":"false"},"task":{"id":"d9bafed4-0b18-4f58-968d-86655b4d2ce9","versionSpec":"1.*","definitionType":"task"}},{"displayName":"Set AWS secret access key","alwaysRun":false,"continueOnError":false,"enabled":true,"timeoutInMinutes":0,"inputs":{"filename":"aws","arguments":"configure set AWS_SECRET_ACCESS_KEY  $(Secret Access Key)","workingFolder":"","failOnStandardError":"false"},"task":{"id":"d9bafed4-0b18-4f58-968d-86655b4d2ce9","versionSpec":"1.*","definitionType":"task"}},{"displayName":"End the Parameter File","alwaysRun":false,"continueOnError":false,"enabled":true,"timeoutInMinutes":0,"inputs":{"filename":"echo","arguments":"EndOfParams >> Parameters.txt","workingFolder":"$(Build.ArtifactStagingDirectory)","failOnStandardError":"false"},"task":{"id":"d9bafed4-0b18-4f58-968d-86655b4d2ce9","versionSpec":"1.*","definitionType":"task"}},{"displayName":"Upload the Parameter File","alwaysRun":false,"continueOnError":false,"enabled":true,"timeoutInMinutes":0,"inputs":{"filename":"aws","arguments":"s3 cp Parameters.txt s3://$(Bucket Name)/$(S3 Folder Path)/Parameters.txt --region $(AWS Bucket Region)","workingFolder":"$(Build.ArtifactStagingDirectory)","failOnStandardError":"false"},"task":{"id":"d9bafed4-0b18-4f58-968d-86655b4d2ce9","versionSpec":"1.*","definitionType":"task"}},{"displayName":"Give source branch name","alwaysRun":false,"continueOnError":false,"enabled":true,"timeoutInMinutes":0,"inputs":{"filename":"echo","arguments":"'Source Branch Name: \"$(Build.SourceBranchName)\"' > commitinfo.txt","workingFolder":"","failOnStandardError":"false"},"task":{"id":"d9bafed4-0b18-4f58-968d-86655b4d2ce9","versionSpec":"1.*","definitionType":"task"}},{"displayName":"Give Commit ID","alwaysRun":false,"continueOnError":false,"enabled":true,"timeoutInMinutes":0,"inputs":{"filename":"echo","arguments":"'Commit ID: \"$(Build.SourceVersion)\"' >> commitinfo.txt","workingFolder":"","failOnStandardError":"false"},"task":{"id":"d9bafed4-0b18-4f58-968d-86655b4d2ce9","versionSpec":"1.*","definitionType":"task"}},{"displayName":"Give Build ID","alwaysRun":false,"continueOnError":false,"enabled":true,"timeoutInMinutes":0,"inputs":{"filename":"echo","arguments":"'Build ID: \"$(Build.BuildId)\"' >> commitinfo.txt","workingFolder":"","failOnStandardError":"false"},"task":{"id":"d9bafed4-0b18-4f58-968d-86655b4d2ce9","versionSpec":"1.*","definitionType":"task"}},{"displayName":"Upload commitinfo file","alwaysRun":false,"continueOnError":false,"enabled":true,"timeoutInMinutes":0,"inputs":{"filename":"aws","arguments":"s3 cp commitinfo.txt s3://$(Bucket Name)/$(S3 Folder Path)/commitinfo.txt --region $(AWS Bucket Region)","workingFolder":"","failOnStandardError":"false"},"task":{"id":"d9bafed4-0b18-4f58-968d-86655b4d2ce9","versionSpec":"1.*","definitionType":"task"}},{"displayName":"Upload user file to S3","alwaysRun":false,"continueOnError":false,"enabled":true,"timeoutInMinutes":0,"inputs":{"filename":"aws","arguments":"s3 cp $(File or folder to upload) s3://$(Bucket Name)/$(S3 Folder Path)/$(S3 Object Name) --region $(AWS Bucket Region)","workingFolder":"","failOnStandardError":"false"},"task":{"id":"d9bafed4-0b18-4f58-968d-86655b4d2ce9","versionSpec":"1.*","definitionType":"task"}}],"visibility":["Build","Release"],"runsOn":["Agent","DeploymentGroup"],"owner":"5581d860-f137-4eb2-94e0-11ba143e4377","revision":10,"createdBy":{"id":"5581d860-f137-4eb2-94e0-11ba143e4377","displayName":"Justin Baacke","uniqueName":"jbaacke@kiosk.com"},"createdOn":"2017-07-18T03:01:35.350Z","modifiedBy":{"id":"5581d860-f137-4eb2-94e0-11ba143e4377","displayName":"Justin Baacke","uniqueName":"jbaacke@kiosk.com"},"modifiedOn":"2017-08-28T19:17:27.917Z","comment":"Segregated out the project folder path","id":"b943f05a-c308-431c-8bd0-70a524f722c9","name":"Upload to S3 with Credentials with Logging","version":{"major":1,"minor":0,"patch":0,"isTest":false},"serverOwned":false,"contentsUploaded":true,"iconUrl":"https://cdn.vsassets.io/v/20170825T180851/_content/icon-meta-task.png","hostType":null,"packageType":"","packageLocation":"","sourceLocation":"","minimumAgentVersion":"*","friendlyName":"Upload to S3 with Credentials with Logging","description":"This uploads a file to s3 using aws credentials","category":"Package","helpMarkDown":"","definitionType":"metaTask","author":"Justin Baacke","demands":[],"groups":[],"inputs":[{"options":{},"properties":{},"name":"File or folder to upload","label":"File or folder to upload","defaultValue":"","required":true,"type":"string","helpMarkDown":"Path to file or folder. File Example: $(Build.SourcesDirectory)/examplefile1.txt Folder Example: $(Build.ArtifactsStagingDirectory)/ExampleFolder/","groupName":""},{"options":{},"properties":{},"name":"Access Key","label":"Access Key","defaultValue":"","required":true,"type":"string","helpMarkDown":"AWS Access Key","groupName":""},{"options":{},"properties":{},"name":"Secret Access Key","label":"Secret Access Key","defaultValue":"","required":true,"type":"string","helpMarkDown":"AWS Secret Access Key","groupName":""},{"options":{},"properties":{},"name":"Bucket Name","label":"Bucket Name","defaultValue":"","required":true,"type":"string","helpMarkDown":"The name of the S3 Bucket","groupName":""},{"options":{},"properties":{},"name":"S3 Object Name","label":"S3 Object Name","defaultValue":"","required":true,"type":"string","helpMarkDown":"Name and directory that the corresponding file will have in Amazon S3. Example: S3FolderName/examplefile1.$(Build.BuildID)-uploaded.txt **Note:** This field is not available for folder uploads, file and folder names will be the same as local.","groupName":""},{"options":{},"properties":{},"name":"AWS Bucket Region","label":"AWS Bucket Region","defaultValue":"","required":true,"type":"string","helpMarkDown":"The Region of the AWS S3 Bucket","groupName":""},{"options":{},"properties":{},"name":"S3 Folder Path","label":"S3 Folder Path","defaultValue":"","required":true,"type":"string","helpMarkDown":"","groupName":""}],"satisfies":[],"sourceDefinitions":[],"dataSourceBindings":[],"instanceNameFormat":"Task group: Upload to S3 with Credentials with Logging $(File or folder to upload)","execution":{}}